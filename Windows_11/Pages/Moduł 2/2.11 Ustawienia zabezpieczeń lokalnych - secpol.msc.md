# 2.11 Zasady zabezpieczeń lokalnych - `secpol.msc`

## Wprowadzenie

<img src="https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/secpol-ico.webp" alt="Ikona Zasad zabezpieczeń lokalnych" style="display: inline-block; height: 1.2rem; vertical-align: middle;"> **Zasady zabezpieczeń lokalnych** (`secpol.msc`) to konsola do wzmacniania bezpieczeństwa systemu. Umożliwia zablokowanie konta po nieudanych logowaniach, wymuszenie silnych haseł, ograniczenie uruchamiania aplikacji i śledzenie, kto używa komputera.  
Działa w edycjach **_Pro_**, **_Enterprise_** i **_Education_**, dając Ci kontrolę nad ochroną przed włamaniami i błędami użytkowników.

---

## Uruchamianie zasad zabezpieczeń lokalnych

Przystawkę można uruchomić na kilka sposobów:

- **Wyszukiwarka**: Naciśnij <span style="white-space: nowrap;"><kbd class="Win"></kbd> + <kbd>S</kbd></span>, wpisz _"Zasady zabezpieczeń lokalnych"_ i kliknij aplikację.
- **Uruchom**: Naciśnij <span style="white-space: nowrap;"><kbd class="Win"></kbd> + <kbd>R</kbd></span>, wpisz `secpol.msc` i naciśnij <kbd>Enter</kbd>.
- <img src="https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/file-explorer-icon.png" alt="Ikona Eksploratora plików" style="display: inline-block; height: 1.2rem; vertical-align: middle;"> **Eksplorator plików**: Przejdź do `C:\Windows\System32`, znajdź plik `secpol.msc` i kliknij dwukrotnie.

![Programik secpol.msc uruchamiający Zasady zabezpieczeń lokalnyc](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/plik-secpol.msc.webp)


## Interfejs konsoli

Okno `secpol.msc` dzieli się na dwa panele:

- **Drzewo nawigacji**: Lewy panel z hierarchią kategorii, np. _Zasady konta_, _Zasady sterowania aplikacjami_.
- **Lista ustawień**: Środkowy panel pokazuje szczegóły, np. wymagania haseł, uprawnienia.

![Interfejs secpol.msc](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/secpol.msc.webp)


## Mechanizmy działania

`secpol.msc` zapisuje zasady w rejestrze (`HKEY_LOCAL_MACHINE\SECURITY`), które _**Windows**_ stosuje przy logowaniu, uruchamianiu programów czy dostępie do zasobów.

<div data-hint="warning">

Aby konfiguracja w zasadach zabezpieczeń lokalnych zaczęła obowiązywać, może być wymagane ponowne zalogowanie do systemu lub jego całkowity restart.

</div>

Oto główne kategorie w drzewie nawigacji:

| **Kategoria**                                   | **Co robi?**                                     |
| :---------------------------------------------- | :----------------------------------------------- |
| **Zasady konta**                                | Kontroluje hasła i blokady kont.                 |
| **Zasady lokalne**                              | Audyt, uprawnienia, opcje bezpieczeństwa.        |
| **Zapora Windows Defender**                     | Zarządza ruchem sieciowym (przystawka `wf.msc`). |
| **Zasady menadżera listy sieci**                | Określa zaufane sieci.                           |
| **Zasady kluczy publicznych**                   | Zarządza szyfrowaniem (**EFS**, **BitLocker**).  |
| **Zasady ograniczeń oprogramowania**            | Ogranicza uruchamianie aplikacji.                |
| **Zasady sterowania aplikacjami**               | Kontroluje aplikacje przez usługę **AppLocker**.        |
| **Zasady zabezpieczeń IP**                      | Konfiguruje **IPsec** dla bezpiecznych połączeń. |
| **Konfiguracja zaawansowanych zasad inspekcji** | Szczegółowy audyt zdarzeń.                       |


## Konfigurowanie zasad

Oto przykładowe konfiguracje dla lokalnych zasad zabezpieczeń:

---

### Wymuszenie silnych haseł

**Cel**: Zmuś użytkowników do tworzenia haseł trudnych do złamania.

1. Otwórz `secpol.msc`, przejdź do _Zasady konta_ > _Zasady haseł_.
2. Kliknij dwukrotnie **_"Hasło musi spełniać wymagania złożoności"_**, ustaw na <kbd class="check-mark"></kbd> **_Włączone_**.
3. Ustaw **_"Minimalna długość hasła"_** na $$12$$ znaków.
4. Ustaw **_"Maksymalny wiek hasła"_** na $$60$$ dni.
5. Ustaw **_"Historia haseł"_** na $$5$$, by zablokować ponowne użycie starych haseł.

### Zatrzymanie ataków brute-force

**Cel**: Zablokuj konto po nieudanych próbach logowania.

1. Przejdź do _Zasady konta_ > _Zasady blokady konta_.
2. Kliknij dwukrotnie **_"Próg blokady konta"_**, ustaw na $$5$$ prób.
3. Ustaw **_"Czas trwania blokady konta"_** na $$15$$ minut.
4. Ustaw **_"Resetuj licznik blokady po"_** na $$15$$ minut.

### Śledzenie logowań

**Cel**: Monitoruj, kto loguje się do systemu, by wykryć podejrzane działania.

1. Otwórz _Konfiguracja zaawansowanych zasad inspekcji_ > _Logowanie/wylogowywanie_.
2. Kliknij dwukrotnie **_"Inspekcja logowania"_**, włącz <kbd class="check-mark"></kbd> **_Sukces_** i <kbd class="check-mark"></kbd> **_Niepowodzenie_**.
3. Powtórz dla **_"Inspekcja innych zdarzeń logowania/wylogowania"_**.

<div data-hint="info">

Logi znajdziesz w **Podglądzie zdarzeń** (`eventvwr.msc`), w **Dzienniku zabezpieczeń**. Szukaj **ID $$4624$$** (sukces) i **ID $$4625$$** (niepowodzenie).

</div>

### Ograniczenie zamykania systemu

**Cel**: Zezwalaj tylko adminom na zamykanie systemu przez interfejs.

1. Przejdź do _Zasady lokalne_ > _Przypisywanie praw użytkownika_.
2. Kliknij dwukrotnie **_"Zamknij system"_**.
3. Usuń grupę "Wszyscy", dodaj "Administratorzy".

<div data-hint="warning">

Ta zasada uniemożliwia wyłączenie komputera poprzez menu **_Windows Start_** <img src="https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/windows_11_logo.png" alt="Windows Logo" style="display: inline-block; height: 1.2rem; vertical-align: middle;">.  
Nie chroni przed fizycznym wyłączeniem po przez przycisk zasilania.

</div>

---

# Podcast AI

<audio src="https://raw.githubusercontent.com/Edu-Koala-V/audio_podcast/refs/heads/main/Windows_11/Audio/Windows 11 Local Security Policies_ A Comprehensive Guide.wav" controls>
Twoja przeglądarka nie wspiera odtwarzania plików audio.
</audio>
