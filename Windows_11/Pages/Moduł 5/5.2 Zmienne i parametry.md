# 5.2: Zmienne i parametry

## Wprowadzenie

Zmienne i parametry w skryptach **BATCH** pozwalaj na przechowywanie danych (np. tekstu, liczb) i przekazywanie ich do skryptu podczas jego uruchamiania.

## Podstawowa skadnia

| Polecenie  | Opis                                                                                                                    |
| :--------- | :---------------------------------------------------------------------------------------------------------------------- |
| `SET`      | Tworzy lub zmienia zmienn, np. `SET nazwa=wartosc`. Warto zmiennej odczytuje si, u偶ywajc `%nazwa%`.                |
| `SET /P`   | Wywietla komunikat i przypisuje dane wprowadzone przez u偶ytkownika do zmiennej, np. `SET /P imie="Podaj swoje imie:"`. |
| `%1`, `%2` | Odczytuj parametry przekazane do skryptu podczas uruchamiania, np. `skrypt.bat parametr1 parametr2`.                   |
| `color`    | Zmienia kolor tekstu i ta w konsoli, np. `color 0a` (czarne to, jasnozielony tekst).                                  |

### Wartoci polecenia `color`

Polecenie `color` przyjmuje dwa znaki heksadecymalne: pierwszy dla ta, drugi dla tekstu.
Przykady:

- `color 0f` - czarne to, biay tekst.
- `color f0` - biae to, czarny tekst.

![Tabela kolor贸w](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/cmd-color-table.webp)


<div data-hint="warning">

Powy偶szy obrazek tabeli kolor贸w pochodzi ze standardowego schematu kolorystycznego, a jego docelowe wartoci mog si r贸偶ni w zale偶noci od u偶ywanej konsoli i wybranego schematu.

Ja przykadowo, do zdalnego czenia si z systemami _**GNU/Linux**_ zmieniem wartoci niebieskiego z fioletowym, aby wywietlane katalogi nie "kuy" mnie w oczy .

</div>

## Stosowanie zmiennych

W zmiennych mo偶esz przechowywa dane statyczne (np. separatory) lub dynamiczne (np. dane wprowadzone przez u偶ytkownika za pomoc `SET /P` lub wyniki polece **CMD**).  
Mo偶esz r贸wnie偶 przekazywa wynik jednej instrukcji do drugiej za pomoc znaku `|` (potoku).

```dos
@echo off

color 1e

set separator===============================================
set separator2=#############################################

echo %separator2%
echo #           INFORMACJE O SYSTEMIE           #
echo %separator2%

echo %separator%
echo.

echo|set /p a="Nazwa komputera: "
hostname

echo.
echo %separator%
echo.

echo|set /p b="Wersja systemu Windows: "
ver

echo.
echo %separator%

@pause
```

<div data-hint="info">

Aby przedstawi wyniki dziaania komend `hostname` i `ver` w jednej linii z opisem, zastosowano nastpujcy trik:

```dos
echo|set /p a="Nazwa komputera: "
hostname
```

  - Polecenie `echo` zawsze dodaje na kocu swojego wywoania znak nowej linii (`\n`).
  - Natomiast `set /p` wywietla komunikat i czeka na dane od u偶ytkownika, kt贸re s zatwierdzane klawiszem <kbd>Enter</kbd>.

Kluczowe jest to, 偶e <kbd>Enter</kbd> r贸wnie偶 zwraca now lini (`\n`), wic konkluzja jest taka, 偶e `set /p` oczekuje znaku `\n`, aby zapisa dane przed jego wystpieniem.  
Domylnie komendy maj taki znak na pocztku z nielicznymi wyjtkami, takimi jak `ver`, kt贸ry ma tych znak贸w na pocztku a偶 $$2$$ .

![Wywoanie skryptu zwracajcego informacje o systemie](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/batch-info-system.webp)

</div>

## Dynamiczne przypisanie danych do zmiennych

Mo偶esz u偶y instrukcji `set /p zmienna="Komunikat"`, aby u偶ytkownik sam wprowadzi warto zmiennej w konsoli:

```dos
@echo off
rem Przypisanie wartoci wprowadzonych przez u偶ytkownika w konsoli.
set /p imie="Podaj swoje imie:"

rem Wywietlenie komunikatu z u偶yciem zawartoci zmiennej %imie%.
echo Witaj, %imie%!

pause
```

![Skrypt pytajcy si o imi i witajcy u偶ytkownika](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/batch-imie-set-param.webp)

### Wywoywanie skryptu z parametrami

Skrypty mo偶na uruchamia, przekazujc im parametry bezporednio podczas wywoania.

Poni偶ej znajduje si przykad kodu skryptu, kt贸ry demonstruje dziaanie tego procesu:

```dos
@echo off
echo Pierwszy parametr to: %1
echo Drugi parametr to: %2
pause
```

Przekazanie parametr贸w do skryptu wywoujc go poprzez konsol polecenia **CMD**:

![Przekazanie parametr贸w do skryptu wywoujc go poprzez konsol polecenia CMD:](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/batch-ala-kotek-param.webp)

Jeli chcesz zrobi to samo poprzez **GUI**, musisz utworzy skr贸t do pliku i dokona poni偶szej modyfikacji waciwoci skr贸tu:

![Parametry wywoania w skr贸cie do pliku .bat](https://raw.githubusercontent.com/Edu-Koala-V/images/main/Windows_11/Images/batch-ala-kotek-link-file-param.webp)

<div data-hint="info">

Jeli nie zostanie podany parametr (`%1`), skrypt zwr贸ci pust warto.  
Liczba po znaku `%` oznacza *indeks* parametru - dlatego `%2` odnosi si do drugiego, a nie pierwszego argumentu.

</div>

---

# Podcast AI

<audio src="https://raw.githubusercontent.com/Edu-Koala-V/audio_podcast/refs/heads/main/Windows_11/Audio/Batch Scripting_ Variables, Parameters, and Console Control.wav" controls>
Twoja przegldarka nie wspiera odtwarzania plik贸w audio.
</audio>
