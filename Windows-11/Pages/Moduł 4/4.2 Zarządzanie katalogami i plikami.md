# 4.2: Zarządzanie katalogami i plikami

## Wprowadzenie

Prawie każda komenda w `CMD` ma pomoc dostępną po wpisaniu `/?` lub `/help`, np. `dir /?`. Wyświetla ona składnię i dostępne opcje dla danej komendy.

### Definicje
<div data-hint="info">

**Ścieżka bezwzględna**: Pełna lokalizacja pliku lub katalogu, zaczynająca się od litery dysku, np. `C:\Users\Jan\Documents`.

</div>
<div data-hint="info">

**Ścieżka względna**: Lokalizacja pliku lub katalogu względem bieżącego katalogu, np. `Documents`.

</div>
<div data-hint="info">

**Rekurencja**: Proces, w którym operacja jest wykonywana na katalogu i wszystkich jego podkatalogach.

</div>

<div data-hint="success">

Używaj klawisza **Tab** podczas pracy w konsoli - podpowiada nazwy plików i katalogów, przyspieszając wpisywanie.

</div>

## Wyświetlanie zawartości katalogu

### `dir` - Wyświetlanie zawartości

**Składnia**: 

```dos
dir [ścieżka] [opcje]
```

Wyświetla listę plików i katalogów w bieżącej lokalizacji lub podanej ścieżce.

- `dir` - pokazuje zawartość bieżącego katalogu.
- `dir C:\Users` - wyświetla zawartość `C:\Users`.

**Zaawansowane opcje**:
- `/A`: Wyświetla pliki z określonymi atrybutami.
    - `/A:H` - ukryte pliki.
    - `/A:D` - tylko katalogi.
    - `/A:-H` - pliki nieukryte.
- `/O`: Sortuje pliki według kryterium.
    - `/O:N` - alfabetycznie po nazwie.
    - `/O:D` - po dacie.
    - `/O:S` - po rozmiarze.
- `/S`: Wyświetla pliki w podkatalogach (*rekurencyjnie*).
- `/P`: Wstrzymuje wyświetlanie po każdym ekranie (przydatne dla długich list).

Opcje można łączyć, np. `dir /A:H /O:N` wyświetla ukryte pliki posortowane alfabetycznie.

```dos
dir /A:H /O:N
```

**Wynik** zawierający datę, czas, typ, rozmiar i nazwę:

```
27/12/2024  15:00     <DIR>           Documents
06/03/2025  14:00               1 234 raport.txt
30/01/2025  00:24     <JUNCTION>      PrintHood [C:\Users\koala\AppData\Roaming\Microsoft\Windows\Printer Shortcuts]
```

| Kolumna | Opis |
|:---|:---|
| Data | Data modyfikacji (DD/MM/RRRR) |
| Czas | Godzina modyfikacji (hh:mm) |
| Typ | `<DIR>`, `<JUNCTION>` lub brak |
| Rozmiar | Rozmiar w bajtach (np. 1 234) |
| Nazwa | Nazwa pliku/katalogu |

**Objaśnienie typów**:

  - `<DIR>`: Katalog.
  - `<JUNCTION>`: Punkt dowiązania do innego katalogu (skrót).
  - **Brak typu**: Plik.

## Poruszanie się po katalogach i partycjach

---

### `cd` - Zmiana katalogu

**Składnia**: 
```dos
cd [ścieżka]
```

Zmienia bieżący katalog. Ścieżka może być względna lub bezwzględna. Nazwy ze spacjami wymagają cudzysłowów, np. `cd "Program Files"`.

  - `cd Documents` - przechodzi do *Documents* (ścieżka względna).
  - `cd C:\Users` - przechodzi do `C:\Users` (ścieżka bezwzględna).
  - `cd ..` - przechodzi do katalogu nadrzędnego.

<div data-hint="warning">

Standardowo komenda `cd` nie zmienia partycji, np. z `D:` na `C:`.

<div data-hint="danger">

Przykład:

```
D:\Epic Games>cd "C:\Documents and Settings"
D:\Epic Games>
```

</div>

<div data-hint="success">

Użyj opcji `/D`, aby zmienić dysk i katalog w jednym kroku, np.

```dos
cd /D C:\Folder
```

</div>

</div>

### `[litera_dysku]:` - Zmiana partycji

**Składnia**: 

```dos
[litera_dysku]:
```

Zmienia partycję, np. `D:`.

## Tworzenie i usuwanie katalogów

---

### `mkdir`/`md` - Tworzenie katalogu

**Składnia**: 

```dos
mkdir [ścieżka]
```

Tworzy katalog w bieżącej lokalizacji. Można tworzyć wiele katalogów naraz oraz możesz użyć skróconej nazwy `md` zamiast `mkdir`.

  - `mkdir NowyFolder` - tworzy *NowyFolder*.
  - `mkdir Folder1 Folder2 Folder3` - tworzy trzy katalogi: *Folder1*, *Folder2*, *Folder3*.
  - `mkdir Folder1\Podfolder` - tworzy *Podfolder* w *Folder1* (jeśli *Folder1* istnieje).

<div data-hint="warning">

Nazwy katalogów ze spacjami wymagają cudzysłowów, np. `md "Nowy katalog"`.
Ponieważ bez tego utworzyły by się dwa katalogi: *Nowy* oraz *katalog*.

</div>

## Tworzenie plików i strumieniowanie

---

### Przekierowanie wyników komend

**Składnia**: 

```dos
komenda > [nazwa_pliku]
```

Zapisuje wynik komendy do pliku (nadpisuje plik). Użycie `>>` dopisuje do pliku.

  - `dir > lista.txt` - zapisuje wynik `dir` do `lista.txt` (nadpisuje plik).
  - `dir >> lista.txt` - dopisuje wynik `dir` do `lista.txt`.

### `echo` - Tworzenie pliku i zapisywanie do pliku

**Składnia**: 

```dos
echo [tekst] > [nazwa_pliku]
```

Zapisuje tekst do pliku. Bez tekstu tworzy pusty plik. Użycie `>>` dopisuje tekst do istniejącego pliku.

  - `echo Staruszka > plik.txt` - zapisuje „Staruszka” do `plik.txt`.
  - `echo. > pusty_plik.txt` - tworzy pusty plik `pusty_plik.txt`.
  - `echo Dodatkowy tekst >> plik.txt` - dopisuje „Dodatkowy tekst” do `plik.txt`.

## Wyświetlanie zawartości plików

---

### `type` - Wyświetlanie zawartości pliku

**Składnia**: 

```dos
type [nazwa_pliku]
```

Wyświetla zawartość pliku tekstowego w konsoli.

  - `type plik.txt` - pokazuje zawartość `plik.txt`.

<div data-hint="warning">

Komenda `type` działa tylko z plikami tekstowymi, np. `.txt`. Dla innych formatów wynik może być nieczytelny.

</div>

<div data-hint="info">

Aby uruchomić plik, wpisz jego nazwę z rozszerzeniem, np. `plik.txt`.

</div>

## Wyświetlanie struktury katalogów

---

### `tree` - Wyświetlanie struktury katalogów

**Składnia**: 

```dos
tree [ścieżka] [opcje]
```

Pokazuje strukturę katalogów w formie drzewa.

  - `tree` - wyświetla strukturę bieżącego katalogu.
  - `tree C:\Users` - pokazuje strukturę katalogu `C:\Users`.
  - `tree /F` - wyświetla również pliki w strukturze.

<small>**Wynik** *tree /F* w mojej lokalizacji (*C:\\Users\\koala\\testowanko*): </small>

```
C:\Users\koala\testowanko>tree /F
Folder PATH listing
Volume serial number is BACA-2137
C:.
├───eloelo
├───ps
│   │   pl3.txt
│   │
│   └───test
│       pl.txt
│       pl2.txt
│
└───Test
    │   Nowy Obraz — mapa bitowa.bmp
    │
    └───pliczki
        Nowy Dokument tekstowy.txt
```

<div data-hint="warning">

Przy dużych katalogach wynik `tree` może być długi. Użyj `tree > drzewo.txt`, aby zapisać go do pliku.

</div>

## Operacje na plikach i katalogach

---

### `copy` - Kopiowanie plików

**Składnia**: 

```dos
copy [źródło] [cel]
```

Kopiuje plik z jednego miejsca do drugiego. **Nie kopiuje katalogów**.

  - `copy plik.txt C:\Backup\` - kopiuje `plik.txt` do `C:\Backup\`.

### `xcopy` - Zaawansowane kopiowanie plików i katalogów

**Składnia**: 

```dos
xcopy [źródło] [cel] [opcje]
```

Kopiuje pliki i katalogi, w tym podkatalogi. Oferuje więcej opcji niż `copy`.

  - `xcopy C:\Folder D:\Backup /S` - kopiuje *Folder* i jego podkatalogi do `D:\Backup`.

**Różnica między `copy` a `xcopy`**:

  - `copy` kopiuje tylko pliki, bez katalogów.
  - `xcopy` kopiuje pliki i katalogi, z opcjami dla podkatalogów (`/S`, `/E`, `/I`).

`xcopy` tworzy brakujące katalogi w ścieżce docelowej.

**Opcje dla `xcopy`**:

  - `/S`: Kopiuje *rekurencyjnie* zawartość katalogu wraz z podkatalogami **nie pustymi**.
  - `/E`: Kopiuje *rekurencyjnie* zawartość katalogu wraz z podkatalogami **pustymi**.
  - `/I`: Zakłada, że ścieżka docelowa to katalog.

Jeśli zapomnisz dopisać `\` na końcu ścieżki docelowej bez opcji `/I`, **CMD** zapyta, czy cel to plik, czy katalog:

```dos
xcopy xD Links\xD /s
Does Links\xD specify a file name
or directory name on the target
(F = file, D = directory)? D
```

Wybór `F` oznacza kopiowanie pliku z nową nazwą:

```dos
xcopy plik.txt elo\elo\elo\plik.txt
Does elo\elo\elo\plik.txt specify a file name
or directory name on the target
(F = file, D = directory)? F
```

### `robocopy` - Jeszcze bardziej zaawansowane kopiowanie plików i katalogów

**Składnia**: 

```dos
robocopy [źródło] [cel] [opcje]
```

Kopiuje pliki i katalogi z zaawansowanymi opcjami, np. zachowaniem uprawnień **`NTFS`** czy *restartowalnym* kopiowaniem.

**Najważniejsze opcje**:
| Opcja | Opis |
|:---|:---|
| `/E` | Kopiuje podkatalogi, w tym puste. |
| `/COPYALL` | Kopiuje wszystkie informacje pliku (dane, atrybuty, znaczniki czasu, uprawnienia **`NTFS`**). |
| `/MIR` | Odbija lustrzanie źródło w celu (kopiuje i usuwa pliki, jeśli nie istnieją w źródle). |
| `/Z` | Kopiuje w trybie *restartowalnym* (przydatne przy niestabilnych połączeniach i pracy na udziałach sieciowych). |

**Przykład**: Kopiowanie folderu z uprawnieniami **`NTFS`**

```dos
robocopy C:\Dane D:\Backup /E /COPYALL
```

**Przykład**: Synchronizacja folderów

```dos
robocopy C:\Projekt D:\Kopia /MIR
```

<div data-hint="danger">

Opcja `/MIR` usuwa pliki w folderze docelowym, jeśli nie istnieją w źródle\!\!\!

</div>

### `move` - Przenoszenie plików

**Składnia**: 

```dos
move [źródło] [cel]
```

Przenosi plik z jednego miejsca do drugiego. Może również przenosić katalogi.

**Przykład**:  
```dos
move plik.txt C:\Archiwum\
```
Przenosi `plik.txt` do `C:\Archiwum\`.

### `del` - Usuwanie plików

**Składnia**: 

```dos
del [nazwa_pliku]
```

Usuwa plik. **Nie usuwa katalogów**, za to może "opróżnić" strukturę katalogową z plików. Użycie `/P` pyta o potwierdzenie.

  - `del plik.txt` - usuwa `plik.txt`.
  - `del /P plik.txt` - pyta o potwierdzenie przed usunięciem.

### `ren` - Zmiana nazwy pliku

**Składnia**:

```dos
ren [stara_nazwa] [nowa_nazwa]
```

Zmienia nazwę pliku lub katalogu.

**Przykład**:

```dos
ren tajne.txt "A co cię to obchodzi?.txt"
```

Zmienia nazwę `tajne.txt` na `A co cię to obchodzi.txt`.

<div data-hint="info">

Zmiana nazwy za pomocą `ren` pomija znak zapytania ponieważ jest on w grupie niedozwolonych znaków (`< > : " / \ | ? *`).

</div>


### `attrib` - Zmiana atrybutów pliku

**Składnia**: 

```dos
attrib [opcje] [nazwa_pliku]
```

Zmienia atrybuty pliku, np. *ukryty* lub *tylko do odczytu*.

  - `attrib +H plik.txt` - ukrywa `plik.txt`.
  - `attrib -H plik.txt` - usuwa atrybut *ukryty*.
  - `attrib +R plik.txt` - ustawia atrybut *tylko do odczytu*.
  - `attrib -R plik.txt` - usuwa atrybut *tylko do odczytu*.

---

# Podcast AI

<audio src="https://raw.githubusercontent.com/Edu-Koala-V/audio_podcast/refs/heads/main/Windows_11/Audio/CMD_ File and Directory Management Essentials.wav" controls>
Twoja przeglądarka nie wspiera odtwarzania plików audio.
</audio>